function preventDefault(e){e.preventDefault()}function removeAllExtras(){document.querySelectorAll("body > *:not(header, main, footer, script, #toast, .hidden, .modal)").forEach((e=>e.remove())),document.querySelectorAll("script").forEach((e=>{e.src&&e.src.startsWith(location.origin)&&e.src.endsWith(location.pathname+"main.js")||e.remove()}))}var removeExtrasInterval;export function preventCopyPasteAndAutofill(){removeAllExtras(),removeExtrasInterval=setInterval(removeAllExtras,5e3),document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",document.addEventListener("contextmenu",preventDefault),document.addEventListener("copy",preventDefault),document.addEventListener("paste",preventDefault),document.querySelectorAll("input, textarea").forEach((e=>{e.setAttribute("autocomplete","off"),e.setAttribute("autocorrect","off"),e.setAttribute("spellcheck","false"),e.setAttribute("autocapitalize","off"),e.setAttribute("data-gramm","false"),e.setAttribute("data-gramm_editor","false"),e.setAttribute("data-enable-grammarly","false"),e.setAttribute("aria-autocomplete","none"),e.setAttribute("aria-multiline","false"),e.setAttribute("data-lpignore","true"),e.setAttribute("data-form-type","other"),e.setAttribute("data-autocompleted","false")})),document.querySelectorAll("input[type='text'], textarea").forEach((e=>{e.classList.contains("CodeMirror")||e.closest(".CodeMirror")||(e.setAttribute("readonly",!0),e.addEventListener("focus",(()=>e.removeAttribute("readonly"))),e.addEventListener("input",(e=>{e.isTrusted||(e.target.value="")})))})),window.CodeMirror&&(CodeMirror.defineExtension("blockAIInput",(function(){this.on("beforeChange",((e,t)=>{t.origin&&"paste"===t.origin&&t.cancel()}))})),document.querySelectorAll(".CodeMirror").forEach((e=>{let t=e.CodeMirror;t&&t.blockAIInput()})))}export function reenableCopyPaste(){clearInterval(removeExtrasInterval),document.body.style.userSelect="auto",document.body.style.webkitUserSelect="auto",document.removeEventListener("contextmenu",preventDefault),document.removeEventListener("copy",preventDefault),document.removeEventListener("paste",preventDefault),window.CodeMirror&&document.querySelectorAll(".CodeMirror").forEach((e=>{let t=e.CodeMirror;t&&(t._handlers.beforeChange=[])}))}const r=reenableCopyPaste;window._={r:()=>r()};