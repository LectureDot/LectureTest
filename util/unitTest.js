import{unitTest as pyUnitTest}from"./pyodide.js";import{compareText}from"./compareText.js";import{isStr}from"../ui/common.js";export async function runUnitTest(e,t,i,n){let o=await pyUnitTest(e,t.in,t.exec,t.maxOut||1e3,t.maxTime||1);isStr(t.out)&&o.endsWith("\n")&&!t.out.endsWith("\n")&&(t.out+="\n");return{output:o,passed:compareText(o,t.out,{ignoreCase:i,removeNewlines:!1,removeEmptyLines:!1,reduceWhitespace:n,trim:n,standardizeIndent:!1})}}