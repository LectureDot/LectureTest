import{isNum,isStr}from"../ui/common.js";import{reindent}from"../indentation.js";export function compareText(e,r,n={ignoreCase:!0,removeNewlines:!0,removeEmptyLines:!0,reduceWhitespace:!0,trim:!0,standardizeIndent:!1}){if(n.removeNewlines&&(e=e.replace(/\n/g," ")),n.reduceWhitespace&&(e=e.replace(/(?!^)[ \t]+/gm," ")),n.standardizeIndent?e=reindent(e):n.trim&&(e=e.split("\n").map((e=>e.trim())).join("\n")),n.removeEmptyLines&&(e=e.replace(/^\s*$/gm,"")),isNum(r)&&(r=r.toString()),isStr(r))return n.ignoreCase&&(r=r.toLowerCase(),e=e.toLowerCase()),n.removeNewlines&&(r=r.replace(/\n/g," ")),n.reduceWhitespace&&(r=r.replace(/(?!^)[ \t]+/gm," ")),n.standardizeIndent?r=reindent(r):n.trim&&(r=r.split("\n").map((e=>e.trim())).join("\n")),n.removeEmptyLines&&(r=r.replace(/^\s*$/gm,"")),console.log(`"${e}" == "${r}"`),e==r;if(r?.re){let t=n.ignoreCase?"i":"";const i=new RegExp(r.re,t);return!!e.match(i)}console.warn(`${typeof r}: "${e}" == "${r}"`)}