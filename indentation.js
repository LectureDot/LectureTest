function getIndent(n){let t=0;for(let e=0;e<n.length&&(" "===n[e]||"\t"===n[e]);e++)t++;return t}export function reindent(n,t=" "){if("string"!=typeof n)return;let e=n.split("\n").map((n=>n.trimEnd())).filter((n=>n)),i=e.map(getIndent),r=[],p=[];function l(n){if(!n.length)return;const e=n.map(getIndent),i=Math.min(...e),p=reindent(n.map((n=>n.slice(i))).join("\n"),t);r.push(...p.split("\n").map((n=>t+n)))}for(let n=0;n<i.length;n++)i[n]?p.push(e[n]):(l(p),p=[],r.push(e[n]));return l(p),r.join("\n")}