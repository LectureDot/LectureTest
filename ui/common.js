import styles from"./common.css"with{type:"css"};document.adoptedStyleSheets.push(styles);export function sleep(t){return new Promise((e=>setTimeout(e,t)))}export const isBool=t=>t?.constructor===Boolean;export const isNum=t=>t?.constructor===Number&&!isNaN(t);export const isStr=t=>t?.constructor===String;export const isObj=t=>t?.constructor===Object;export const isArr=t=>t?.constructor===Array;export const arrSum=t=>t.reduce(((t,e)=>t+(isNum(e)?e:0)),0);export function arrayToCsv(t){if(!Array.isArray(t)||0===t.length)return"";return t.map((t=>{Array.isArray(t)||(t=[t]);return t.map((t=>"string"==typeof t?`"${t.replace(/"/g,'""')}"`:"number"==typeof t||"boolean"==typeof t?t.toString():null==t?"":`"${JSON.stringify(t).replace(/"/g,'""')}"`)).join(",")})).join("\n")}export function shuffled(t){return t.map((t=>({r:t,sort:Math.random()}))).sort(((t,e)=>t.sort-e.sort)).map((({r:t})=>t))}export function randInt(t){return Math.floor(Math.random()*t)}export function removeUndefined(t){for(let e in t)void 0===t[e]&&delete t[e]}export function shallowEquals(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let n in t){let r=t[n];if("object"==typeof r){if(JSON.stringify(r)!==JSON.stringify(e[n]))return!1}else if(r!==e[n])return!1}return!0}export function pad0(t,e=2){return t.toString().padStart(e,"0")}export function getDateTime(t,e,n){let r;r=t?new Date(t):new Date;let o=r.getFullYear()+"-"+pad0(r.getMonth()+1)+"-"+pad0(r.getDate()),i=pad0(r.getHours())+":"+pad0(r.getMinutes());return n&&(i+=":"+pad0(r.getSeconds())),e?o+e+i:[o,i]}export function showMinutes(t){let e=Math.floor(t/1e3);return`${Math.floor(e/60)}:${String(e%60).padStart(2,"0")}`}export function detectBrowser(){const t=navigator.userAgent;return/Opera|OPR/.test(t)?"Opera":/Edg/.test(t)?"Edge":/Chrome/.test(t)?"Chrome":/Safari/.test(t)?"Safari":/Firefox/.test(t)?"Firefox":/MSIE|Trident/.test(t)?"IE":"Unknown"}export const el=document.getElementById.bind(document);export function download(t,e){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}export function isDisplayed(t){return t?.offsetParent||document.body.contains(t)}export function hide(t){(isStr(t)?el(t):t).classList.add("hidden")}export function show(t){(isStr(t)?el(t):t).classList.remove("hidden")}export function hideToggle(t){(isStr(t)?el(t):t).classList.toggle("hidden")}export function newEl(t={},e){isStr(t)&&(t={innerHTML:t});const n=document.createElement(t.tag||"div");if(delete t.tag,t.events){for(let e in t.events)n.addEventListener(e,t.events[e]);delete t.events}if(t.style){for(let e in t.style)n.style[e]=t.style[e];delete t.style}for(let e in t)void 0!==n[e]?n[e]=t[e]:n.setAttribute(e,t[e]);return e&&e.appendChild(n),n}export function span(t={},e){return isStr(t)&&(t={innerHTML:t}),t.tag="span",newEl(t,e)}export function button(t={},e){return isStr(t)&&(t={innerHTML:t}),t.tag="button",newEl(t,e)}export function input(t={},e){isStr(t)&&(t={spanBefore:t});const n=newEl({tag:"label"},e);t.tag="input";const r=t.htmlBefore,o=t.htmlAfter;return delete t.htmlBefore,delete t.htmlAfter,r&&(n.spanBefore=n.appendChild(span({innerHTML:r}))),n.input=n.appendChild(newEl(t)),o&&(n.spanAfter=n.appendChild(span({innerHTML:o}))),n}export function addElementTo(t,e={}){return t.appendChild(newEl(e))}export function currentUrlWithParams(t){let e=new URL(window.location);e.hash=e.search="";for(let n in t)e.searchParams.append(n,t[n]);return e.href}export function copyToClipboard(t){navigator.clipboard.writeText(t)}export function spinOnce(t){t.style.animation="",t.offsetWidth,t.style.animation="spin 0.5s",setTimeout((()=>t.style.animation=""),500)}export function importStyleSheet(t){const e=document.createElement("link");e.rel="stylesheet",e.href=t,document.head.appendChild(e)}