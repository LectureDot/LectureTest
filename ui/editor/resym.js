import"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.js";import"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/mode/simple.min.js";const CSS="\n.cm-resym-hr { color: #d14; }\n.cm-resym-comment { color: #998; font-style: italic; }\n.cm-resym-string { color: #1a1; }\n.cm-resym-string-2 { color: #1a1; font-weight: bold; }\n\n\n.cm-resym-text, .cm-resym-char {\n  font-size: 0.9em;\n  color: transparent;\n  position: relative;\n  width: 4em;\n  display: inline-block;\n}\n.cm-resym-text {\n  background: #bb9;\n  border-radius: 999em;\n  margin-right: 0.2em;\n}\n.cm-resym-char {\n  background: #c98;\n}\n\n.cm-resym-text:before, .cm-resym-char:before {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  width: 100%;\n  height: 100%; \n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  font-size: 0.5em;\n  font-family: 'Arial Narrow';\n  color: #000;\n}\n.cm-spaces:before {\n  content: 'spaces';\n}\n.cm-any-text:before {\n  content: 'any text ‚§∂';\n}\n.cm-any-text-no-nl:before {\n  content: 'any text';\n}\n\n.cm-whitespace:before {\n  content: 'space';\n}\n.cm-digit:before {\n  content: 'digit';\n}\n.cm-letter:before {\n  content: 'letter';\n}\n.cm-alphanumeric:before {\n  content: 'alphanumeric';\n}\n.cm-not-whitespace:before {\n  content: 'not space';\n}\n.cm-non-alphanumeric:before {\n  content: 'non-alphanumeric';\n}\n.cm-any-char-no-nl:before {\n  content: 'any char';\n}\n.cm-any-char:before {\n  content: 'any char ‚§∂';\n}\n\n\n.cm-resym-number {\n  color: transparent;\n  background: #a99;\n  border-radius: 0px 3px 3px 0px;\n  padding: 0 0.4em;\n  position: relative;\n  margin-right: 0.2em;\n}\n.cm-resym-number:before {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  width: 100%;\n  height: 100%; \n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  font-size: 0.5em;\n  font-family: 'Arial Narrow';\n  color: #000;\n}\n\n.cm-resym-one-or-more:before {\n  content: '1+';\n}\n.cm-resym-zero-or-one:before {\n  content: '0 - 1';\n}\n.cm-resym-zero-or-more:before {\n  content: '0+';\n}\n\n.cm-resym-number-range {\n  background: #a99;\n  font-size: 0.9em;\n}\n.cm-resym-number-range:not(.cm-resym-open):not(.cm-resym-close) {\n}\n.cm-resym-number-range.cm-resym-open {\n  color: transparent;\n}\n.cm-resym-number-range.cm-resym-close {\n  color: transparent;\n  border-radius: 0px 3px 3px 0px;\n}\n";document.head.appendChild(Object.assign(document.createElement("style"),{textContent:CSS}));export const RESYM={GRP_OPEN:"‚¶Ö",GRP_CLOSE:"‚¶Ü",WHITELIST_OPEN:"‚àà",WHITELIST_CLOSE:"‚àã",BLACKLIST_OPEN:"‚àâ",BLACKLIST_CLOSE:"‚àå",COUNT_OPEN:"‚óÇ",COUNT_CLOSE:"‚ñ∏",ZERO_OR_ONE:"‚äô",ZERO_OR_MORE:"‚äõ",ONE_OR_MORE:"‚äï",OR:"‚Äñ",RANGE:"‚Ä•",WHITESPACE:"‚ö¨",NOT_WHITESPACE:"‚†Ç",ANY_CHAR_NO_NL:"‚†É",ANY_CHAR:"‚†á",DIGIT:"‚ûí",LETTER:"ùî∏",ALPHANUMERIC:"ùïé",NON_ALPHANUMERIC:"‚Ç©",NEWLINE:"‚§∂",TAB:"‚á•",ANY_TEXT_NO_NL:"‚ãØ",ANY_TEXT:"‚ã±",SPACES:"‚ê†",WORD_BOUNDARY:"‚Ä≥",NON_WORD_BOUNDARY:"Àá",START_TEXT:"‚á±",END_TEXT:"‚á≤",ESCAPE:"‚çø",COMMENT:"‚ßª"};CodeMirror.defineSimpleMode("resym",{start:[{regex:new RegExp(`${RESYM.ESCAPE}`),token:"resym hr",next:"escaped"},{regex:new RegExp(`${RESYM.COMMENT}.*`),token:"resym-comment"},{regex:new RegExp(`[${RESYM.GRP_OPEN}${RESYM.GRP_CLOSE}]`),token:"string-2"},{regex:new RegExp(`[${RESYM.WORD_BOUNDARY}${RESYM.NON_WORD_BOUNDARY}${RESYM.OR}${RESYM.START_TEXT}${RESYM.END_TEXT}]`),token:"string"},{regex:new RegExp(`[${RESYM.NEWLINE}${RESYM.TAB}]`),token:"resym string"},{regex:new RegExp(RESYM.WHITESPACE),token:"resym-char whitespace"},{regex:new RegExp(RESYM.NOT_WHITESPACE),token:"resym-char not-whitespace"},{regex:new RegExp(RESYM.LETTER),token:"resym-char letter"},{regex:new RegExp(RESYM.DIGIT),token:"resym-char digit"},{regex:new RegExp(RESYM.ALPHANUMERIC),token:"resym-char alphanumeric"},{regex:new RegExp(RESYM.NON_ALPHANUMERIC),token:"resym-char non-alphanumeric"},{regex:new RegExp(RESYM.ANY_CHAR_NO_NL),token:"resym-char any-char-no-nl"},{regex:new RegExp(RESYM.ANY_CHAR),token:"resym-char any-char"},{regex:new RegExp(RESYM.SPACES),token:"resym-text spaces"},{regex:new RegExp(RESYM.ANY_TEXT),token:"resym-text any-text"},{regex:new RegExp(RESYM.ANY_TEXT_NO_NL),token:"resym-text any-text-no-nl"},{regex:new RegExp(RESYM.ONE_OR_MORE),token:"resym-number resym-one-or-more"},{regex:new RegExp(RESYM.ZERO_OR_MORE),token:"resym-number resym-zero-or-more"},{regex:new RegExp(RESYM.ZERO_OR_ONE),token:"resym-number resym-zero-or-one"},{regex:new RegExp(`${RESYM.COUNT_OPEN}`),token:"resym-number-range resym-open",next:"instanceRange"},{regex:new RegExp(`${RESYM.WHITELIST_OPEN}.*?${RESYM.WHITELIST_CLOSE}`),token:"variable-2"},{regex:new RegExp(`${RESYM.BLACKLIST_OPEN}.*?${RESYM.BLACKLIST_CLOSE}`),token:"keyword"},{regex:/./,token:null}],escaped:[{regex:/[^]/,token:null,pop:!0,next:"start"}],instanceRange:[{regex:new RegExp(`[^${RESYM.COUNT_CLOSE}]+`),token:"resym-number-range"},{regex:new RegExp(`${RESYM.COUNT_CLOSE}`),token:"resym-number-range resym-close",next:"start"}],meta:{lineComment:RESYM.COMMENT}});export function resymToRegex(E){let e="",n=0;for(;n<E.length;){const R=E[n];if("\t"!==R&&"\n"!==R){if(R===RESYM.ESCAPE&&n+1<E.length){const R=E[n+1],t=RESYM.ESCAPE+R;if(void 0!==RESYM_TO_REGEXP[t]){e+=RESYM_TO_REGEXP[t],n+=2;continue}}if(R!==RESYM.COMMENT)RESYM_TO_REGEXP[R]?e+=RESYM_TO_REGEXP[R]:e+=R.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),n++;else for(;n<E.length&&"\n"!==E[n];)n++}else n++}return e}export const RESYM_TO_REGEXP={"(":"\\(",")":"\\)","[":"\\[","]":"\\]","{":"\\{","}":"\\}","\\":"\\\\",".":"\\.","*":"\\*","+":"\\+","?":"\\?","^":"\\^",$:"\\$",[RESYM.GRP_OPEN]:"(",[RESYM.GRP_CLOSE]:")",[RESYM.WHITELIST_OPEN]:"[",[RESYM.WHITELIST_CLOSE]:"]",[RESYM.BLACKLIST_OPEN]:"[^",[RESYM.BLACKLIST_CLOSE]:"]",[RESYM.COUNT_OPEN]:"{",[RESYM.COUNT_CLOSE]:"}",[RESYM.OR]:"|",[RESYM.RANGE]:"-",[RESYM.START_TEXT]:"^",[RESYM.END_TEXT]:"$",[RESYM.WORD_BOUNDARY]:"\\b",[RESYM.NON_WORD_BOUNDARY]:"\\B",[RESYM.ZERO_OR_ONE]:"?",[RESYM.ZERO_OR_MORE]:"*",[RESYM.ONE_OR_MORE]:"+",[RESYM.NOT_WHITESPACE]:"\\S",[RESYM.ANY_CHAR_NO_NL]:".",[RESYM.ANY_CHAR]:"[\\S\\s]",[RESYM.WHITESPACE]:"\\s",[RESYM.DIGIT]:"\\d",[RESYM.ALPHANUMERIC]:"\\w",[RESYM.NON_ALPHANUMERIC]:"\\W",[RESYM.NEWLINE]:"\n",[RESYM.TAB]:"\\t",[RESYM.ANY_TEXT_NO_NL]:".*",[RESYM.ANY_TEXT]:"[\\S\\s]*",[RESYM.SPACES]:"[ \\t]*",[RESYM.ESCAPE+RESYM.ESCAPE]:RESYM.ESCAPE,[RESYM.ESCAPE+RESYM.COMMENT]:RESYM.COMMENT,[RESYM.ESCAPE+RESYM.GRP_OPEN]:RESYM.GRP_OPEN,[RESYM.ESCAPE+RESYM.GRP_CLOSE]:RESYM.GRP_CLOSE,[RESYM.ESCAPE+RESYM.WHITELIST_OPEN]:RESYM.WHITELIST_OPEN,[RESYM.ESCAPE+RESYM.WHITELIST_CLOSE]:RESYM.WHITELIST_CLOSE,[RESYM.ESCAPE+RESYM.BLACKLIST_OPEN]:RESYM.BLACKLIST_OPEN,[RESYM.ESCAPE+RESYM.BLACKLIST_CLOSE]:RESYM.BLACKLIST_CLOSE,[RESYM.ESCAPE+RESYM.COUNT_OPEN]:RESYM.COUNT_OPEN,[RESYM.ESCAPE+RESYM.COUNT_CLOSE]:RESYM.COUNT_CLOSE,[RESYM.ESCAPE+RESYM.OR]:RESYM.OR,[RESYM.ESCAPE+RESYM.RANGE]:RESYM.RANGE,[RESYM.ESCAPE+RESYM.START_TEXT]:RESYM.START_TEXT,[RESYM.ESCAPE+RESYM.END_TEXT]:RESYM.END_TEXT,[RESYM.ESCAPE+RESYM.WORD_BOUNDARY]:RESYM.WORD_BOUNDARY,[RESYM.ESCAPE+RESYM.NON_WORD_BOUNDARY]:RESYM.NON_WORD_BOUNDARY,[RESYM.ESCAPE+RESYM.ZERO_OR_ONE]:RESYM.ZERO_OR_ONE,[RESYM.ESCAPE+RESYM.ZERO_OR_MORE]:RESYM.ZERO_OR_MORE,[RESYM.ESCAPE+RESYM.ONE_OR_MORE]:RESYM.ONE_OR_MORE,[RESYM.ESCAPE+RESYM.NOT_WHITESPACE]:RESYM.NOT_WHITESPACE,[RESYM.ESCAPE+RESYM.ANY_CHAR_NO_NL]:RESYM.ANY_CHAR_NO_NL,[RESYM.ESCAPE+RESYM.ANY_CHAR]:RESYM.ANY_CHAR,[RESYM.ESCAPE+RESYM.WHITESPACE]:RESYM.WHITESPACE,[RESYM.ESCAPE+RESYM.DIGIT]:RESYM.DIGIT,[RESYM.ESCAPE+RESYM.ALPHANUMERIC]:RESYM.ALPHANUMERIC,[RESYM.ESCAPE+RESYM.NON_ALPHANUMERIC]:RESYM.NON_ALPHANUMERIC,[RESYM.ESCAPE+RESYM.NEWLINE]:RESYM.NEWLINE,[RESYM.ESCAPE+RESYM.TAB]:RESYM.TAB,[RESYM.ESCAPE+RESYM.ANY_TEXT_NO_NL]:RESYM.ANY_TEXT_NO_NL,[RESYM.ESCAPE+RESYM.ANY_TEXT]:RESYM.ANY_TEXT};export const resymBtns=[{cat:"group",icon:`${RESYM.GRP_OPEN} ${RESYM.GRP_CLOSE}`,fun:E=>E.surround(RESYM.GRP_OPEN,RESYM.GRP_CLOSE),title:"group"},{cat:"group",icon:RESYM.OR,fun:E=>E.insert(RESYM.OR),title:"or",example:`${RESYM.GRP_OPEN}hello${RESYM.OR}hi${RESYM.GRP_CLOSE} will match either "hello" or "hi"`},{cat:"text",icon:RESYM.ANY_TEXT_NO_NL,fun:E=>E.insert(RESYM.ANY_TEXT_NO_NL),title:"any text except newline"},{cat:"text",icon:RESYM.ANY_TEXT,fun:E=>E.insert(RESYM.ANY_TEXT),title:"any text"},{cat:"text",icon:RESYM.SPACES,fun:E=>E.insert(RESYM.SPACES),title:"zero or more spaces or tabs"},{cat:"character",icon:RESYM.WHITESPACE,fun:E=>E.insert(RESYM.WHITESPACE),title:"whitespace (space, tab, newline)"},{cat:"character",icon:RESYM.NOT_WHITESPACE,fun:E=>E.insert(RESYM.NOT_WHITESPACE),title:"any character except whitespace"},{cat:"character",icon:RESYM.ANY_CHAR_NO_NL,fun:E=>E.insert(RESYM.ANY_CHAR_NO_NL),title:"any character except newline"},{cat:"character",icon:RESYM.ANY_CHAR,fun:E=>E.insert(RESYM.ANY_CHAR),title:"any character"},{cat:"character",icon:RESYM.DIGIT,fun:E=>E.insert(RESYM.DIGIT),title:"digit (0-9)"},{cat:"character",icon:RESYM.LETTER,fun:E=>E.insert("‚ààA‚Ä•Za‚Ä•z‚àã"),title:"letter (A-Za-z)"},{cat:"character",icon:RESYM.ALPHANUMERIC,fun:E=>E.insert(RESYM.ALPHANUMERIC),title:"alphanumeric or _"},{cat:"character",icon:RESYM.NON_ALPHANUMERIC,fun:E=>E.insert(RESYM.NON_ALPHANUMERIC),title:"not alphanumeric nor _"},{cat:"character",icon:RESYM.NEWLINE,fun:E=>E.insert(RESYM.NEWLINE),title:"newline"},{cat:"character",icon:RESYM.TAB,fun:E=>E.insert(RESYM.TAB),title:"tab"},{cat:"set",icon:`${RESYM.WHITELIST_OPEN} ${RESYM.WHITELIST_CLOSE}`,fun:E=>E.surround(RESYM.WHITELIST_OPEN,RESYM.WHITELIST_CLOSE),title:"character whitelist"},{cat:"set",icon:`${RESYM.BLACKLIST_OPEN} ${RESYM.BLACKLIST_CLOSE}`,fun:E=>E.surround(RESYM.BLACKLIST_OPEN,RESYM.BLACKLIST_CLOSE),title:"character blacklist"},{cat:"set",icon:RESYM.RANGE,fun:E=>E.insert(RESYM.RANGE),title:"character range",example:`${RESYM.WHITELIST_OPEN}A${RESYM.RANGE}Z${RESYM.WHITELIST_CLOSE} is any character from A to Z`},{cat:"count",icon:RESYM.ZERO_OR_ONE,fun:E=>E.getSelection()?E.surround(RESYM.GRP_OPEN,RESYM.GRP_CLOSE+RESYM.ZERO_OR_ONE):E.insert(RESYM.ZERO_OR_ONE),title:"zero or one instance"},{cat:"count",icon:RESYM.ZERO_OR_MORE,fun:E=>E.getSelection()?E.surround(RESYM.GRP_OPEN,RESYM.GRP_CLOSE+RESYM.ZERO_OR_MORE):E.insert(RESYM.ZERO_OR_MORE),title:"zero or more instances"},{cat:"count",icon:RESYM.ONE_OR_MORE,fun:E=>E.getSelection()?E.surround(RESYM.GRP_OPEN,RESYM.GRP_CLOSE+RESYM.ONE_OR_MORE):E.insert(RESYM.ONE_OR_MORE),title:"one or more instances"},{cat:"count",icon:`${RESYM.COUNT_OPEN} ${RESYM.COUNT_CLOSE}`,fun:E=>E.getSelection()?E.surround(RESYM.GRP_OPEN,RESYM.GRP_CLOSE+RESYM.COUNT_OPEN+"2,3"+RESYM.COUNT_CLOSE):E.insert(RESYM.COUNT_OPEN+"2,3"+RESYM.COUNT_CLOSE),title:"specify number of instances"},{cat:"delimiter",icon:RESYM.WORD_BOUNDARY,fun:E=>E.getSelection()?E.surround(RESYM.WORD_BOUNDARY,RESYM.WORD_BOUNDARY):E.insert(RESYM.WORD_BOUNDARY),title:"word boundary",example:`${RESYM.WORD_BOUNDARY}OR${RESYM.WORD_BOUNDARY} matches "this OR that" but not "hello wORld"`},{cat:"delimiter",icon:RESYM.NON_WORD_BOUNDARY,fun:E=>E.getSelection()?E.surround(RESYM.NON_WORD_BOUNDARY,RESYM.NON_WORD_BOUNDARY):E.insert(RESYM.NON_WORD_BOUNDARY),title:"non-word boundary",example:`${RESYM.NON_WORD_BOUNDARY}OR${RESYM.NON_WORD_BOUNDARY} matches "hello wORld", but not "this OR that"`},{icon:RESYM.ESCAPE,fun:E=>E.insert(RESYM.ESCAPE),title:"escape character"},{icon:RESYM.COMMENT,fun:E=>E.insert(RESYM.COMMENT),title:"start comment (ignores rest of line)"}];