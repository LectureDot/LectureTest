import"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.7/require.min.js";import"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.js";export const EDITOR_LANGUAGES={text:"text/plain",python:"python",javascript:"javascript",java:"java",c:"clike",json:"application/json",markdown:"markdown",html:"htmlmixed"};export function codeEditor(e,t,n){const a={mode:"text/plain",lineNumbers:!0,theme:"default",tabSize:4,smartIndent:!0,insertSoftTab:!0};e.lang&&(a.mode=EDITOR_LANGUAGES[e.lang]||"text/plain",delete e.lang),void 0!==e.lineNumbers&&(a.lineNumbers=e.lineNumbers,delete e.lineNumbers);const r=CodeMirror(t,a),o=r.getWrapperElement();return o.getValue=()=>r.getValue(),o.setValue=e=>r.setValue(e),o.setOption=(e,t)=>r.setOption(e,t),o.onchange=e=>r.on("change",(()=>e(r.getValue()))),n&&t.prepend(o),o}